<h4 id="mensaje-bienvenida">
  <ng-container *ngIf="empresa?.nombre; else saludoUsuario">
    Bienvenido, {{ empresa.nombre }}
  </ng-container>
  <ng-template #saludoUsuario>
    Hola, {{ usuario?.nombre }}
  </ng-template>
</h4>

<div class="row my-4 g-4">
  <div class="col-md-4">
    <div class="card stats-card h-100">
      <div class="card-body text-center d-flex flex-column justify-content-center">
        <h3 class="fw-bold">{{ ofertas.length }}</h3>
        <p class="text-muted mb-1">Trabajos publicados</p>
        <i class="bi bi-briefcase fs-3 text-primary"></i>
      </div>
    </div>
  </div>
  </div>

<div class="card shadow-sm">
  <div class="card-header bg-white">
    <strong>Trabajos publicados recientemente</strong>
  </div>
  <div class="table-responsive">
    <table class="table align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th>Trabajo</th>
          <th>Aplicantes</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        
        <tr *ngIf="isLoading">
          <td colspan="3" class="text-center p-5">
            <div class="spinner-border text-primary" role="status"></div>
          </td>
        </tr>

        <tr *ngIf="!isLoading && errorMessage">
          <td colspan="3" class="text-center text-danger p-4">
            {{ errorMessage }}
          </td>
        </tr>

        <tr *ngIf="!isLoading && !errorMessage && ofertas.length === 0">
          <td colspan="3" class="text-center text-muted p-4">
            No has publicado ning√∫n trabajo recientemente.
          </td>
        </tr>

        <tr *ngFor="let oferta of ofertas.slice(0, 5)">
          <td>
            <div class="fw-bold">{{ oferta.titulo }}</div>
            <small class="text-muted">{{ oferta.tipo_contrato }}</small>
          </td>
          <td>{{ oferta.cantidad_aplicantes || 0 }}</td>
          <td>
            <a [routerLink]="['/empleador/candidatos', oferta.idoferta]" class="btn btn-primary btn-sm">
              Ver Candidatos
            </a>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
</div>