<div class="page-container">
  
  <div class="form-panel-centered">
    <div class="form-content">
      <div class="logo-header">
        <img src="assets/imagenes/Logo.jpg" alt="Logo" class="logo-img">
        <h1 class="title">WorkLink</h1>
      </div>

      <h3 class="subtitle">Establecer Nueva Contraseña</h3>

      <form class="login-form" (ngSubmit)="onSubmit()" #resetForm="ngForm">

        <div *ngIf="alertMessage" 
             class="alert-message" 
             [class.success]="alertType === 'success'"
             [class.danger]="alertType === 'danger'">
          {{ alertMessage }}
        </div>

        <div class="form-group">
          <label for="nuevaPassword" class="form-label">Nueva Contraseña</label>
          <div class="password-wrapper">
            <input 
              [type]="passFieldType" 
              id="nuevaPassword" 
              name="nuevaPassword" 
              class="form-input" 
              placeholder="Mínimo 6 caracteres"
              [(ngModel)]="passwordData.nuevaPassword"
              required
              minlength="6">
            <button type="button" (click)="togglePasswordVisibility('pass')" class="toggle-password">
              {{ passFieldType === 'password' ? 'Mostrar' : 'Ocultar' }}
            </button>
          </div>
          <div class="info-text">Debe tener al menos 6 caracteres</div>
        </div>

        <div class="form-group">
          <label for="confirmarPassword" class="form-label">Confirmar Contraseña</label>
          <div class="password-wrapper">
            <input 
              [type]="confirmPassFieldType" 
              id="confirmarPassword" 
              name="confirmarPassword" 
              class="form-input" 
              placeholder="Repite la contraseña"
              [(ngModel)]="passwordData.confirmarPassword"
              required
              minlength="6">
            <button type="button" (click)="togglePasswordVisibility('confirm')" class="toggle-password">
              {{ confirmPassFieldType === 'password' ? 'Mostrar' : 'Ocultar' }}
            </button>
          </div>
        </div>

        <button 
          type="submit" 
          class="submit-button"
          [disabled]="isSubmitting || resetForm.invalid">
          <span *ngIf="isSubmitting" class="spinner"></span>
          {{ isSubmitting ? 'Restableciendo...' : 'Restablecer Contraseña' }}
        </button>

      </form>

      <p class="signup-link">
        <a routerLink="/login">Volver al inicio de sesión</a>
      </p>
    </div>
  </div>

</div>