<!doctype html><html lang="es"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Blog</title><link rel="stylesheet" href="css/style.css"/></head><body><div id="navbar"></div><main class="container"><div class="card"><h2>Blog</h2><div id="posts-list"></div></div></main><div id="modal-post" class="modal"><div class="modal-card card"><div class="modal-body"></div><div style="padding:1rem;text-align:right"><button class="btn close">Cerrar</button></div></div></div><script>document.addEventListener('DOMContentLoaded', ()=>{ const posts = JSON.parse(localStorage.getItem('demo_posts_v1')||'[]'); const c = document.getElementById('posts-list'); if(posts.length===0){ c.innerHTML='<div class="empty'>No hay entradas.</div>'; return; } c.innerHTML = posts.map(p=>`<div class="card"><h4>${escapeHtml(p.title)}</h4><div class="small">Por ${escapeHtml(p.author)} · ${new Date(Number(p.id.split('_')[0])||Date.now()).toLocaleDateString()}</div><div style="margin-top:.5rem">${escapeHtml(p.excerpt)}</div><div style="margin-top:.6rem"><button class="btn btn-outline" onclick="openPost('${p.id}')">Leer más</button></div></div>`).join(''); }); function openPost(id){ const posts = JSON.parse(localStorage.getItem('demo_posts_v1')||'[]'); const p = posts.find(x=>x.id===id); if(!p) return; const modal = document.getElementById('modal-post'); modal.querySelector('.modal-card .modal-body').innerHTML = `<h3>${escapeHtml(p.title)}</h3><div class="small">Por ${escapeHtml(p.author)}</div><div style="margin-top:.6rem">${nl2br(escapeHtml(p.content))}</div>`; modal.classList.add('open'); }</script><script src="js/nav.js"></script><script src="js/app.js"></script></body></html>