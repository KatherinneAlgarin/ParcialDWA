<!doctype html><html lang="es"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Buscar empleos</title><link rel="stylesheet" href="css/style.css"/></head><body><div id="navbar"></div>
<main class="container">
  <div class="card">
    <h2>Buscar empleos</h2>
    <form id="search-form" onsubmit="event.preventDefault();">
      <div style="display:flex;gap:.5rem;flex-wrap:wrap">
        <input class="input" id="q" placeholder="Título, empresa o ubicación"/>
        <select class="input" id="type-filter"><option value="">Todos</option><option>Tiempo completo</option><option>Medio tiempo</option><option>Remoto</option></select>
        <button class="btn" onclick="applyFilter()">Aplicar</button>
      </div>
    </form>
    <div id="jobs-list" style="margin-top:1rem"></div>
  </div>
</main>
<script>
function applyFilter(){
  const q=document.getElementById('q').value.toLowerCase();
  const t=document.getElementById('type-filter').value;
  const all=JSON.parse(localStorage.getItem('demo_jobs_v1')||'[]');
  const filtered = all.filter(j=>(!q || j.title.toLowerCase().includes(q) || j.company.toLowerCase().includes(q) || j.location.toLowerCase().includes(q)) && (!t || j.type===t));
  const container=document.getElementById('jobs-list');
  if(filtered.length===0){ container.innerHTML='<div class="empty">No se encontraron resultados.</div>'; return; }
  container.innerHTML = filtered.map(j=>`<div class="card"><strong>${escapeHtml(j.title)}</strong><div class="small">${escapeHtml(j.company)} · ${escapeHtml(j.location)}</div><div style="margin-top:.5rem">${escapeHtml(j.description)}</div></div>`).join('');
}
function escapeHtml(s){ if(!s) return ''; return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
</script>
<script src="js/nav.js"></script>
  <script src="js/app.js"></script></body></html>